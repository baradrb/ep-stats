
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="Evaluation package for experimentation platform." name="description"/>
<link href="https://github.com/avast/ep-stats/stats/basics.html" rel="canonical"/>
<meta content="Team Doodlebug" name="author"/>
<link href="../experiment_b.png" rel="shortcut icon"/>
<meta content="mkdocs-1.1.2, mkdocs-material-5.5.12" name="generator"/>
<title>Basics - Ep-Stats</title>
<link href="../assets/stylesheets/main.4dd2dd8d.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&amp;display=fallback" rel="stylesheet"/>
<style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
</head>
<body dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#statistics">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header-nav md-grid">
<a aria-label="Ep-Stats" class="md-header-nav__button md-logo" href="https://github.com/avast/ep-stats" title="Ep-Stats">
<img alt="logo" src="../experiment_w.png"/>
</a>
<label class="md-header-nav__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"></path></svg>
</label>
<div class="md-header-nav__title" data-md-component="header-title">
<div class="md-header-nav__ellipsis">
<span class="md-header-nav__topic md-ellipsis">
            Ep-Stats
          </span>
<span class="md-header-nav__topic md-ellipsis">
            
              Basics
            
          </span>
</div>
</div>
<label class="md-header-nav__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" data-md-state="active" name="query" placeholder="Search" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</label>
<button aria-label="Clear" class="md-search__icon md-icon" data-md-component="search-reset" tabindex="-1" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>
</button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header-nav__source">
<a class="md-source" href="https://github.com/avast/ep-stats/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    avast/ep-stats
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="Tabs" class="md-tabs md-tabs--active" data-md-component="tabs">
<div class="md-tabs__inner md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../index.html">
          Home
        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../user_guide/quick_start.html">
          User Guide
        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link md-tabs__link--active" href="basics.html">
          Statistics
        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../api/experiment.html">
          API
        </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Ep-Stats" class="md-nav__button md-logo" href="https://github.com/avast/ep-stats" title="Ep-Stats">
<img alt="logo" src="../experiment_w.png"/>
</a>
    Ep-Stats
  </label>
<div class="md-nav__source">
<a class="md-source" href="https://github.com/avast/ep-stats/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    avast/ep-stats
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-1" id="nav-1" type="checkbox"/>
<label class="md-nav__link" for="nav-1">
      Home
      <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Home" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-1">
<span class="md-nav__icon md-icon"></span>
        Home
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../index.html" title="Introduction">
      Introduction
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../principles.html" title="Principles">
      Principles
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../resources.html" title="Resources">
      Resources
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" id="nav-2" type="checkbox"/>
<label class="md-nav__link" for="nav-2">
      User Guide
      <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="User Guide" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-2">
<span class="md-nav__icon md-icon"></span>
        User Guide
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../user_guide/quick_start.html" title="Quick Start">
      Quick Start
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../user_guide/protocol.html" title="Experimentation Protocol">
      Experimentation Protocol
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../user_guide/ep_in_python.ipynb" title="Using Ep-Stats in Jupyter">
      Using Ep-Stats in Jupyter
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../user_guide/aggregation.html" title="Aggregation">
      Aggregation
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../user_guide/configuring_api.html" title="Configuring API">
      Configuring API
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../user_guide/test_data.html" title="Test Data">
      Test Data
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="nav-3" id="nav-3" type="checkbox"/>
<label class="md-nav__link" for="nav-3">
      Statistics
      <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Statistics" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-3">
<span class="md-nav__icon md-icon"></span>
        Statistics
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
        Basics
        <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="basics.html" title="Basics">
      Basics
    </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#point-estimates-confidence-intervals-and-hypothesis-testing">
    Point Estimates, Confidence Intervals and Hypothesis Testing
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#pitfalls-and-corrections">
    Pitfalls and Corrections
  </a>
<nav aria-label="Pitfalls and Corrections" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#absolute-vs-relative-difference">
    Absolute vs. Relative Difference
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#independent-and-identically-distributed-observations">
    Independent and Identically Distributed Observations
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#multiple-comparisons-problem">
    Multiple Comparisons Problem
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#real-time-experiment-evaluation">
    Real-time Experiment Evaluation
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#data-quality-checks">
    Data Quality Checks
  </a>
<nav aria-label="Data Quality Checks" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#sample-ratio-mismatch-check">
    Sample Ratio Mismatch Check
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#data-quality">
    Data Quality
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="sample_size.html" title="Sample Size">
      Sample Size
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="sequential.html" title="Sequential Evaluation">
      Sequential Evaluation
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="ctr.html" title="CTR Metric Redefined">
      CTR Metric Redefined
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="multiple.html" title="Multiple Comparison Correction">
      Multiple Comparison Correction
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" id="nav-4" type="checkbox"/>
<label class="md-nav__link" for="nav-4">
      API
      <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="API" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-4">
<span class="md-nav__icon md-icon"></span>
        API
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../api/experiment.html" title="Experiment">
      Experiment
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/evaluation.html" title="Evaluation">
      Evaluation
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/statistics.html" title="Statistics">
      Statistics
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/check.html" title="Check">
      Check
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/srm_check.html" title="SrmCheck">
      SrmCheck
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/dao.html" title="Dao">
      Dao
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/dao_factory.html" title="DaoFactory">
      DaoFactory
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/test_data.html" title="TestData">
      TestData
    </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#point-estimates-confidence-intervals-and-hypothesis-testing">
    Point Estimates, Confidence Intervals and Hypothesis Testing
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#pitfalls-and-corrections">
    Pitfalls and Corrections
  </a>
<nav aria-label="Pitfalls and Corrections" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#absolute-vs-relative-difference">
    Absolute vs. Relative Difference
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#independent-and-identically-distributed-observations">
    Independent and Identically Distributed Observations
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#multiple-comparisons-problem">
    Multiple Comparisons Problem
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#real-time-experiment-evaluation">
    Real-time Experiment Evaluation
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#data-quality-checks">
    Data Quality Checks
  </a>
<nav aria-label="Data Quality Checks" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#sample-ratio-mismatch-check">
    Sample Ratio Mismatch Check
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#data-quality">
    Data Quality
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset">
<a class="md-content__button md-icon" href="https://github.com/avast/ep-stats/edit/master/docs/stats/basics.md" title="Edit this page">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"></path></svg>
</a>
<h1 id="statistics">Statistics<a class="headerlink" href="#statistics" title="Permanent link">¶</a></h1>
<p>We want to test, whether the difference between treatment and control variant in chosen metric is statistically significant or not. From statistical point of view, we deal with point estimates, confidence intervals and hypothesis testing. Confidence level is set by default to 95%, i.e. we talk about 95%-confidence intervals and hypothesis testing on 5% level of significance.</p>
<p>We also run various data quality checks to guarantee trustworthiness of presented data.</p>
<h2 id="point-estimates-confidence-intervals-and-hypothesis-testing">Point Estimates, Confidence Intervals and Hypothesis Testing<a class="headerlink" href="#point-estimates-confidence-intervals-and-hypothesis-testing" title="Permanent link">¶</a></h2>
<p>Assume we have one control variant (usually denoted by <span><span class="MathJax_Preview">A</span><script type="math/tex">A</script></span>) and one or more treatment variants (usually denoted by <span><span class="MathJax_Preview">B</span><script type="math/tex">B</script></span>, <span><span class="MathJax_Preview">C</span><script type="math/tex">C</script></span>, <span><span class="MathJax_Preview">D</span><script type="math/tex">D</script></span>, ...). We calculate point estimate for relative difference between treatment and control variant in chosen metric. Next we calculate confidence interval for the relative difference. Finally, we want to test whether estimated relative difference is significantly significant.</p>
<p>Formula for relative difference is straightforward: <span><span class="MathJax_Preview">(B - A) / A * 100</span><script type="math/tex">(B - A) / A * 100</script></span>. To be more precise, point estimate is only the estimate of true relative difference between treatment and control variant. The true relative difference is unknown! The point estimate is the best possible estimate of the true (unknown) relative difference using available data from the experiment.</p>
<p>We implemented Welch's t-test<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup> to test the significance of point estimate in EP Stats engine. Delta method is necessary, since standard Welch's test works well only for absolute differences, i.e. <span><span class="MathJax_Preview">B - A</span><script type="math/tex">B - A</script></span>. We use quantiles from Student's t-distribution which approximate normal distribution.</p>
<h2 id="pitfalls-and-corrections">Pitfalls and Corrections<a class="headerlink" href="#pitfalls-and-corrections" title="Permanent link">¶</a></h2>
<p>We summarize all corrections implemented next to Welch's t-test in this part. Generally Welch's t-test assumes we have two samples, i.e. we have two sequences of independent and identically distributed random variables with finite variance. The variances between the variants may not be equal.</p>
<p>Unfortunately assumptions above are often violated in practice and appropriate corrections are necessary to guarantee desired level of significance.</p>
<h3 id="absolute-vs-relative-difference">Absolute vs. Relative Difference<a class="headerlink" href="#absolute-vs-relative-difference" title="Permanent link">¶</a></h3>
<p>Two-sample t-test is only correct when we deal with absolute difference, i.e. <span><span class="MathJax_Preview">B - A</span><script type="math/tex">B - A</script></span>. But it does not hold any more when we deal with relative difference. In order to be statistically correct, <a href="ctr.html#relative-difference">delta method for relative difference</a> is necessary.</p>
<h3 id="independent-and-identically-distributed-observations">Independent and Identically Distributed Observations<a class="headerlink" href="#independent-and-identically-distributed-observations" title="Permanent link">¶</a></h3>
<p>Welch's t-test assumes that observations are independent and identically distributed (i.i.d.). Unfortunately this assumption does not hold always.</p>
<p>Let's assume Click-through rate metric (i.e. clicks / views). Since multiple views (and clicks) from the same user (user being randomization unit here) are allowed, the assumption of independence is violated. Multiple observations from the same user are not independent. <a href="ctr.html##asymptotic-distribution-of-ctr">Delta method for iid</a> is necessary (has not been implemented yet).</p>
<h3 id="multiple-comparisons-problem">Multiple Comparisons Problem<a class="headerlink" href="#multiple-comparisons-problem" title="Permanent link">¶</a></h3>
<p>If we have only one control <span><span class="MathJax_Preview">A</span><script type="math/tex">A</script></span> and one treatment <span><span class="MathJax_Preview">B</span><script type="math/tex">B</script></span> variant, we need to run just one Welch's t-test, i.e. relative difference between <span><span class="MathJax_Preview">B</span><script type="math/tex">B</script></span> and <span><span class="MathJax_Preview">A</span><script type="math/tex">A</script></span>. If we have multiple treatment variants, e.g. <span><span class="MathJax_Preview">B</span><script type="math/tex">B</script></span>, <span><span class="MathJax_Preview">C</span><script type="math/tex">C</script></span> and <span><span class="MathJax_Preview">D</span><script type="math/tex">D</script></span>, we need to run three Welch's t-tests, i.e. relative difference between <span><span class="MathJax_Preview">B</span><script type="math/tex">B</script></span> and <span><span class="MathJax_Preview">A</span><script type="math/tex">A</script></span>, <span><span class="MathJax_Preview">C</span><script type="math/tex">C</script></span> and <span><span class="MathJax_Preview">A</span><script type="math/tex">A</script></span>, <span><span class="MathJax_Preview">D</span><script type="math/tex">D</script></span> and <span><span class="MathJax_Preview">A</span><script type="math/tex">A</script></span>. If we run every single test on 5% level of significance, the overall level of significance is lower. The probability of false-positive error (i.e. we wrongly reject at least one null hypothesis) is higher than required 5% level.</p>
<p>In ep-stats engine, we implemented <a href="multiple.html#holmbonferroni-method">HolmBonferroni p-value correction</a>. Single tests are more conservative and so overall level of confidence is satisfied.</p>
<h3 id="real-time-experiment-evaluation">Real-time Experiment Evaluation<a class="headerlink" href="#real-time-experiment-evaluation" title="Permanent link">¶</a></h3>
<blockquote>
<p>Time is Money</p>
</blockquote>
<p>One of the main goals in Experimentation Platform was to develop real-time data pipelines. Standard Welch's t-test assumes you evaluate experiment only once, after you collect all data. If you evaluate experiment more than once, than the false-positive error (wrongly rejecting null hypothesis) grows enormously<sup id="fnref:2"><a class="footnote-ref" href="#fn:2">2</a></sup>.</p>
<p>We implemented <a href="sequential.html">Sequential testing</a> procedure to tackle this issue. It allows us to evaluate experiments (hypothesis) real-time during the experiment period without exceeding false-positive errors.</p>
<p>The solution itself is pretty simple. In the beginning (circa first half of the experiment period) the decision rule is very conservative and only great differences can be called statistically significant. As we approach the end of the experiment the decision rule is less and less stringent. If we have enough evidence, the difference can be statistically significant and we can end up the experiment earlier.</p>
<p>Main disadvantage is that the <a href="../user_guide/protocol.html#set-experiment-duration-before-starting-it">length of the experiment must be set in advance</a> - before starting the experiment. This is very annoying for the experimenters (test owners) but right now this is the only way, how to deal with this issue. If we do not use Sequential testing, our false-positive errors could be somewhere between 20-30%, instead of required below 5%. It means one third of all presented results are wrong and without any chance to fix them. In other words, one third of decisions are wrong.</p>
<h2 id="data-quality-checks">Data Quality Checks<a class="headerlink" href="#data-quality-checks" title="Permanent link">¶</a></h2>
<p>Experimentation Platform is very complex. From data collection to statistical evaluation, there are many intermediate steps. All of these steps must be checked regularly in order to guarantee trustworthiness of presented results.</p>
<h3 id="sample-ratio-mismatch-check">Sample Ratio Mismatch Check<a class="headerlink" href="#sample-ratio-mismatch-check" title="Permanent link">¶</a></h3>
<p>Sample Ratio Mismatch check<sup id="fnref:3"><a class="footnote-ref" href="#fn:3">3</a></sup> (SRM Check) checks the quality of randomization. Randomization is absolutely crucial. Wrong randomization can have fatal consequences and results might be highly misleading. SRM check checks whether we have the same number of users in each variant. Chi-square[^6] test is implemented.</p>
<p>In this check we require high reliability. Therefore the confidence level is set to 99.9%. If SRM check fails, presented results should not be taken into account and any decisions based on this experiment should not be done!</p>
<h3 id="data-quality">Data Quality<a class="headerlink" href="#data-quality" title="Permanent link">¶</a></h3>
<p>We have not implemented any automatic data quality checks yet. The plan is to check all parts of data pipelines.</p>
<div class="footnote">
<hr/>
<ol>
<li id="fn:1">
<p><a href="https://en.wikipedia.org/wiki/Welch%27s_t-test">Welch's t-test</a> <a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">↩</a></p>
</li>
<li id="fn:2">
<p><a href="https://twitter.com/ronnyk/status/932798952679776256?lang=cs">Ronny Kohavi, Sample Ratio Mismatch</a> <a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 2 in the text">↩</a></p>
</li>
<li id="fn:3">
<p><a href="https://en.wikipedia.org/wiki/Chi-squared_test">Wikipedia, Chi-square test</a> <a class="footnote-backref" href="#fnref:3" title="Jump back to footnote 3 in the text">↩</a></p>
</li>
</ol>
</div>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav aria-label="Footer" class="md-footer-nav__inner md-grid">
<a class="md-footer-nav__link md-footer-nav__link--prev" href="../user_guide/test_data.html" rel="prev" title="Test Data">
<div class="md-footer-nav__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</div>
<div class="md-footer-nav__title">
<div class="md-ellipsis">
<span class="md-footer-nav__direction">
                  Previous
                </span>
                Test Data
              </div>
</div>
</a>
<a class="md-footer-nav__link md-footer-nav__link--next" href="sample_size.html" rel="next" title="Sample Size">
<div class="md-footer-nav__title">
<div class="md-ellipsis">
<span class="md-footer-nav__direction">
                  Next
                </span>
                Sample Size
              </div>
</div>
<div class="md-footer-nav__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"></path></svg>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
<div class="md-footer-copyright__highlight">
            Copyright © 2020 Maintained by <a href="https://github.com/avast">Avast</a>.
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
          Material for MkDocs
        </a>
</div>
</div>
</div>
</footer>
</div>
<script src="../assets/javascripts/vendor.3636a4ec.min.js"></script>
<script src="../assets/javascripts/bundle.e9fe3281.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
<script>
        app = initialize({
          base: "..",
          features: ["tabs"],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
</body>
</html>